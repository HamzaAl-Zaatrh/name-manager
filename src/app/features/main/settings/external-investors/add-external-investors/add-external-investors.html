<form [formGroup]="form" (ngSubmit)="onSubmit()">
  <div class="modal-body form-body">
    <div class="form-group">
      <label for="name" class="form-label"> الاسم <span class="required">*</span> </label>
      <input
        type="text"
        id="name"
        formControlName="name"
        class="form-input"
        [class.form-input--error]="form.get('name')?.invalid && form.get('name')?.touched"
        placeholder="أدخل الاسم أو الوصف"
      />
      @if (form.get('name')?.invalid && form.get('name')?.touched) {
        <div class="form-error">
          @if (form.get('name')?.hasError('required')) {
            <span>الاسم مطلوب</span>
          }
          @if (form.get('name')?.hasError('maxlength')) {
            <span>الاسم يجب أن لا يتجاوز 100 حرف</span>
          }
        </div>
      }
    </div>

    <div class="form-group">
      <label for="description" class="form-label"> التفاصيل </label>
      <textarea
        id="description"
        formControlName="description"
        class="form-textarea"
        [class.form-input--error]="
          form.get('description')?.invalid && form.get('description')?.touched
        "
        placeholder="التفاصيل"
        rows="4"
      ></textarea>
      @if (form.get('description')?.invalid && form.get('description')?.touched) {
        <div class="form-error">
          @if (form.get('description')?.hasError('maxlength')) {
            <span>التفاصيل يجب أن لا تتجاوز 500 حرف</span>
          }
        </div>
      }
    </div>
  </div>
  <div class="modal-footer">
    <button type="submit" class="btn btn-primary" [disabled]="form.invalid">
      {{ mode() === 'add' ? 'حفظ' : 'تحديث' }}
    </button>
    <button type="button" class="btn btn-cancel" (click)="onCancel()">إلغاء</button>
  </div>
</form>
